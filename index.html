<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Widget Makers</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body data-page="home">
  <div id="widget-makers-site">
    <div class="wm-page">
      <div data-wm-header></div>

      <main>
        <section class="wm-hero" id="wm-about">
          <div class="wm-hero-grid">
            <div class="wm-hero-copy">
              <h1 class="wm-hero-title" data-copy="hero.title" data-copy-html="true">Advanced prototyping &amp;<br>scaled production for deep-tech</h1>
              <p class="wm-hero-sub" data-copy="hero.subtitle">We bridge concept and capability, giving founders the means to prove, iterate, and scale bleeding edge tech in the physical world.</p>
              <div class="wm-hero-actions">
                <a class="wm-cta wm-cta-primary" href="#inquiry" data-copy="hero.cta">BUILD WITH US</a>
              </div>
              <div class="wm-hero-cert">
                <img src="images/flag.svg" alt="American flag icon">
                <div>
                  <span data-copy="hero.certTitle">American Made in Los Angeles</span><br>
                  <span data-copy="hero.certDetails">AS9100 / ISO9001 / IPC J-STD-001 CERTIFIED</span>
                </div>
              </div>
            </div>
            <div class="wm-hero-visual">
              <div class="wm-hero-image">
                <img src="images/hero.png" alt="Widget Makers hardware deployment">
              </div>
            </div>
          </div>
        </section>

        <section class="wm-logos-section">
          <h2 class="wm-section-title" data-copy="logos.heading">Makers We Build With</h2>
          <div class="wm-logo-row">
            <a class="wm-logo-link" href="https://www.spacex.com/" target="_blank" rel="noreferrer">
              <img class="wm-logo-img" src="images/logo_spacex.svg" alt="SpaceX">
            </a>
            <a class="wm-logo-link" href="https://www.apexspace.com/" target="_blank" rel="noreferrer">
              <img class="wm-logo-img" src="images/logo_apex.svg" alt="Apex Space">
            </a>
            <a class="wm-logo-link" href="https://singervehicledesign.com/" target="_blank" rel="noreferrer">
              <img class="wm-logo-img" src="images/logo_singer.svg" alt="Singer Vehicle Design">
            </a>
            <a class="wm-logo-link" href="https://www.castelion.com/" target="_blank" rel="noreferrer">
              <img class="wm-logo-img" src="images/logo_castelion.svg" alt="Castelion">
            </a>
            <a class="wm-logo-link" href="https://shinkei.systems/" target="_blank" rel="noreferrer">
              <img class="wm-logo-img" src="images/logo_shinkei.svg" alt="Shinkei Systems">
            </a>
          </div>
        </section>

        <section class="wm-section">
          <h2 class="wm-section-title" data-copy="mission.heading">Mission</h2>
          <p class="wm-body-text" data-copy="mission.body">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer ac lorem id odio porta suscipit.</p>
        </section>

        <section class="wm-section">
          <h2 class="wm-section-title" data-copy="approach.heading">Approach</h2>
          <div class="wm-approach-list">
            <div class="wm-approach-item"><span data-copy="approach.precision.title">Precision:</span> <span data-copy="approach.precision.body">lorem ipsum dolor sit amet, consectetur adipiscing elit.</span></div>
            <div class="wm-approach-item"><span data-copy="approach.velocity.title">Velocity:</span> <span data-copy="approach.velocity.body">sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span></div>
            <div class="wm-approach-item"><span data-copy="approach.transparency.title">Transparency:</span> <span data-copy="approach.transparency.body">ut enim ad minim veniam, quis nostrud exercitation ullamco.</span></div>
            <div class="wm-approach-item"><span data-copy="approach.craft.title">Craft:</span> <span data-copy="approach.craft.body">Duis aute irure dolor in reprehenderit in voluptate velit esse.</span></div>
            <div class="wm-approach-item"><span data-copy="approach.loyalty.title">Loyalty:</span> <span data-copy="approach.loyalty.body">Excepteur sint occaecat cupidatat non proident.</span></div>
          </div>
        </section>

        <section class="wm-cases">
          <div class="wm-cases-header">
            <h2 class="wm-section-title" data-copy="cases.heading">Case Studies</h2>
          </div>
          <div class="wm-cases-row">
            <button class="wm-cases-arrow js-case-prev" type="button">&#10094;</button>
            <div class="wm-cases-grid js-cases-grid">
              <button class="wm-case js-open-modal" type="button" data-modal="case" data-title="APEX Space">
                <div class="wm-case-figure"></div>
                <div class="wm-case-meta">
                  <span data-copy="cases.card1.labelClient">Client:</span> <span data-copy="cases.card1.client">APEX Space</span><br>
                  <span data-copy="cases.card1.labelIndustry">Industry:</span> <span data-copy="cases.card1.industry">Space / Defense</span><br>
                  <span data-copy="cases.card1.labelWidget">Widget:</span> <span data-copy="cases.card1.widget">Lorem ipsum dolor sit amet.</span>
                </div>
              </button>
              <button class="wm-case js-open-modal" type="button" data-modal="case" data-title="Castelion">
                <div class="wm-case-figure"></div>
                <div class="wm-case-meta">
                  <span data-copy="cases.card2.labelClient">Client:</span> <span data-copy="cases.card2.client">Castelion</span><br>
                  <span data-copy="cases.card2.labelIndustry">Industry:</span> <span data-copy="cases.card2.industry">Defense</span><br>
                  <span data-copy="cases.card2.labelWidget">Widget:</span> <span data-copy="cases.card2.widget">Consectetur adipiscing elit.</span>
                </div>
              </button>
              <button class="wm-case js-open-modal" type="button" data-modal="case" data-title="Reliable Robotics">
                <div class="wm-case-figure"></div>
                <div class="wm-case-meta">
                  <span data-copy="cases.card3.labelClient">Client:</span> <span data-copy="cases.card3.client">Reliable Robotics</span><br>
                  <span data-copy="cases.card3.labelIndustry">Industry:</span> <span data-copy="cases.card3.industry">Robotics</span><br>
                  <span data-copy="cases.card3.labelWidget">Widget:</span> <span data-copy="cases.card3.widget">Sed do eiusmod tempor.</span>
                </div>
              </button>
              <button class="wm-case js-open-modal" type="button" data-modal="case" data-title="Orbital Labs">
                <div class="wm-case-figure"></div>
                <div class="wm-case-meta">
                  <span data-copy="cases.card4.labelClient">Client:</span> <span data-copy="cases.card4.client">Orbital Labs</span><br>
                  <span data-copy="cases.card4.labelIndustry">Industry:</span> <span data-copy="cases.card4.industry">Autonomous Systems</span><br>
                  <span data-copy="cases.card4.labelWidget">Widget:</span> <span data-copy="cases.card4.widget">Ut labore et dolore magna.</span>
                </div>
              </button>
              <button class="wm-case js-open-modal" type="button" data-modal="case" data-title="Ion Energy">
                <div class="wm-case-figure"></div>
                <div class="wm-case-meta">
                  <span data-copy="cases.card5.labelClient">Client:</span> <span data-copy="cases.card5.client">Ion Energy</span><br>
                  <span data-copy="cases.card5.labelIndustry">Industry:</span> <span data-copy="cases.card5.industry">Energy</span><br>
                  <span data-copy="cases.card5.labelWidget">Widget:</span> <span data-copy="cases.card5.widget">Aliquam tincidunt nunc non.</span>
                </div>
              </button>
            </div>
            <button class="wm-cases-arrow js-case-next" type="button">&#10095;</button>
          </div>
        </section>

        <section class="wm-industries-capabilities" id="wm-industries">
          <div id="inquiry"></div>
          <div class="wm-inquiry-intro">
            <h2 class="wm-inquiry-title" data-copy="inquiry.headerTitle">Explore All We Can Do For You</h2>
            <p class="wm-inquiry-sub" data-copy="inquiry.headerSub">See our work in your industry and explore our in house capabilities. When ready, turn on the inquiry builder to send us details on what you’re building and start building together.</p>
          </div>
          <div class="wm-inquiry-header">
            <span data-copy="inquiry.title">Inquiry Builder</span>
            <button type="button" class="wm-toggle js-inquiry-toggle" aria-pressed="false">
              <span class="wm-toggle-label wm-toggle-label-off" data-copy="inquiry.toggleOff">OFF</span>
              <span class="wm-toggle-label wm-toggle-label-on" data-copy="inquiry.toggleOn">ON</span>
              <span class="wm-toggle-knob"></span>
            </button>
            <span class="wm-inquiry-hint" data-copy="inquiry.hint">Select all that apply</span>
          </div>

          <div class="wm-ind-cap-grid">
            <div>
              <h2 class="wm-section-title" data-copy="industries.heading">Industries</h2>
              <ul class="wm-tag-list">
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Aerospace">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.aerospace">Aerospace</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_aerospace"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Autonomous Systems">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.autonomous">Autonomous Systems</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_autonomous"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Automotive">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.automotive">Automotive</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_automotive"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Defense">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.defense">Defense</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_defense"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Energy">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.energy">Energy</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_energy"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Food &amp; Beverage Equipment">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.food">Food &amp; Beverage Equipment</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_food"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Medical Devices">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.medical">Medical Devices</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_medical"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Robotics">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.robotics">Robotics</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_robotics"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="industry" data-title="Transportation Systems">+</button>
                    <span class="wm-tag-label" data-copy="industries.list.transport">Transportation Systems</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="industry_transport"></label>
                </li>
              </ul>
            </div>

            <div id="wm-capabilities">
              <h2 class="wm-section-title" data-copy="capabilities.heading">Capabilities &amp; Services</h2>
              <ul class="wm-tag-list">
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Additive MFG / 3D Print">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.additive">Additive MFG / 3D Print</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_additive"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Bespoke Metal Forming">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.bespoke">Bespoke Metal Forming</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_bespoke"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Cable / Harness MFG">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.cable">Cable / Harness MFG</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_cable"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="CNC Milling">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.cnc">CNC Milling</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_cnc"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="CO2 Laser Cutting">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.co2">CO2 Laser Cutting</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_co2"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Electro-Mechanical Assembly">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.electro">Electro-Mechanical Assembly</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_electro"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Elec. Testing, PCBA Flashing">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.testing">Elec. Testing, PCBA Flashing</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_testing"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Fabrication / Prototyping">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.fab">Fabrication / Prototyping</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_fab"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Part Marking">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.partMarking">Part Marking</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_part"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Production Assembly">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.production">Production Assembly</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_prodassembly"></label>
                </li>
              </ul>
            </div>

            <div>
              <h2 class="wm-section-title" style="visibility:hidden">Spacer</h2>
              <ul class="wm-tag-list">
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Production Tooling Design">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.tooling">Production Tooling Design</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_tooling"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Sheet Metal Assembly">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.sheetAssembly">Sheet Metal Assembly</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_sheet_assembly"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Sheet Metal Laser Cutting">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.sheetCutting">Sheet Metal Laser Cutting</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_sheet_cutting"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Sheet/Plate Forming">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.sheetForming">Sheet/Plate Forming</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_sheet_forming"></label>
                </li>
                <li class="wm-tag-item">
                  <div class="wm-tag-main">
                    <button class="wm-plus js-open-modal" type="button" data-modal="capability" data-title="Supply Chain Service">+</button>
                    <span class="wm-tag-label" data-copy="capabilities.list.supplyChain">Supply Chain Service</span>
                  </div>
                  <label class="wm-check"><input type="checkbox" name="cap_supply_chain"></label>
                </li>
              </ul>
            </div>

            <form class="wm-contact-panel" id="wm-inquiry-form" action="https://formsubmit.co/ajax/hello@oddfort.com" method="POST" enctype="multipart/form-data">
              <input type="hidden" name="_subject" value="New inquiry from Widget Makers">
              <input type="hidden" name="_captcha" value="false">
              <input type="hidden" name="_template" value="table">
              <input type="hidden" name="industries_selected" id="wm-industries-selected">
              <input type="hidden" name="capabilities_selected" id="wm-capabilities-selected">
              <div class="wm-contact-fields">
                <input class="wm-contact-input" type="text" name="name" placeholder="Name">
                <input class="wm-contact-input" type="text" name="company" placeholder="Company">
                <input class="wm-contact-input" type="email" name="_replyto" placeholder="Email">
              </div>
              <textarea class="wm-contact-input wm-contact-message" name="message" placeholder="Enter Message"></textarea>
              <div class="wm-file-upload">
                <label class="wm-file-drop" for="wm-file-input">
                  <img src="images/icon_upload.svg" alt="" aria-hidden="true" class="wm-file-icon">
                  <div class="wm-file-title" data-copy="inquiry.filesTitle">Project Files</div>
                  <div class="wm-file-hint" data-copy="inquiry.filesDrop">Drag or click to upload</div>
                  <input id="wm-file-input" class="wm-file-input" type="file" name="attachments[]" multiple>
                </label>
                <div class="wm-file-list" aria-live="polite"></div>
              </div>
              <div class="wm-contact-actions">
                <span class="wm-form-status" aria-live="polite"></span>
                <button class="wm-contact-submit wm-cta wm-cta-primary" type="submit" data-copy="inquiry.submit">SUBMIT INQUIRY</button>
              </div>
            </form>
          </div>
          <div class="wm-footer" data-copy="footer">© Widget Makers, Inc</div>
        </section>
      </main>
    </div>

    <div class="wm-modal-overlay" data-modal="industry">
      <div class="wm-modal">
        <div class="wm-modal-header">
          <h2 class="wm-modal-title" data-copy="modal.industryTitle">Industry</h2>
          <button class="wm-modal-close js-close-modal" type="button">×</button>
        </div>
        <div class="wm-modal-bg-label">BACKGROUND IMAGE</div>
        <div class="wm-modal-body">
          <p data-copy="modal.industryBody">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet.</p>
          <div class="wm-modal-images-row">
            <div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div>
          </div>
          <div class="wm-modal-cta-row"><button class="wm-cta js-contact-btn" type="button" data-copy="cta.contact">CONTACT BUTTON</button></div>
        </div>
      </div>
    </div>

    <div class="wm-modal-overlay" data-modal="capability">
      <div class="wm-modal">
        <div class="wm-modal-header">
          <h2 class="wm-modal-title" data-copy="modal.capabilityTitle">Capability</h2>
          <button class="wm-modal-close js-close-modal" type="button">×</button>
        </div>
        <div class="wm-modal-bg-label">BACKGROUND IMAGE</div>
        <div class="wm-modal-body">
          <p data-copy="modal.capabilityBody">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer euismod, urna eu tincidunt consectetur, nisi nisl aliquam nunc.</p>
          <div class="wm-modal-images-row">
            <div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div>
          </div>
          <div class="wm-modal-cta-row"><button class="wm-cta js-contact-btn" type="button" data-copy="cta.contact">CONTACT BUTTON</button></div>
        </div>
      </div>
    </div>

    <div class="wm-modal-overlay" data-modal="case">
      <div class="wm-modal">
        <div class="wm-modal-header">
          <h2 class="wm-modal-title" data-copy="modal.caseTitle">Case Study</h2>
          <button class="wm-modal-close js-close-modal" type="button">×</button>
        </div>
        <div class="wm-modal-bg-label">BACKGROUND IMAGE</div>
        <div class="wm-modal-body">
          <p data-copy="modal.caseBody">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent commodo cursus magna, vel scelerisque nisl consectetur et.</p>
          <div class="wm-modal-images-row">
            <div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div><div class="wm-modal-image">Image</div>
          </div>
          <div class="wm-modal-cta-row"><button class="wm-cta js-contact-btn" type="button" data-copy="cta.contact">CONTACT BUTTON</button></div>
        </div>
      </div>
    </div>
  </div>

  <script src="copy.js"></script>
  <script src="header.js"></script>
  <script>
    (function(){
      const root=document.getElementById("widget-makers-site");if(!root)return;
      const page=root.querySelector(".wm-page");
      const industriesSection=root.querySelector(".wm-industries-capabilities");
      const inquiryToggle=root.querySelector(".js-inquiry-toggle");
      const contactButtons=root.querySelectorAll(".js-contact-btn");
      const submitButton=root.querySelector(".wm-contact-submit");
      const nameInput=root.querySelector('input[name="name"]');
      const companyInput=root.querySelector('input[name="company"]');
      const emailInput=root.querySelector('input[name="_replyto"]');
      const messageInput=root.querySelector('textarea[name="message"]');
      const fileInput=root.querySelector("#wm-file-input");
      const fileDrop=root.querySelector(".wm-file-drop");
      const fileList=root.querySelector(".wm-file-list");
      const form=root.querySelector("#wm-inquiry-form");
      const formStatus=root.querySelector(".wm-form-status");
      const industriesHidden=root.querySelector("#wm-industries-selected");
      const capabilitiesHidden=root.querySelector("#wm-capabilities-selected");

      function enableInquiryMode(){if(!page.classList.contains("wm-inquiry-mode")){page.classList.add("wm-inquiry-mode");if(inquiryToggle)inquiryToggle.setAttribute("aria-pressed","true");}}
      function disableInquiryMode(){page.classList.remove("wm-inquiry-mode");if(inquiryToggle)inquiryToggle.setAttribute("aria-pressed","false");}

      function scrollToInquiry(){if(industriesSection&&industriesSection.scrollIntoView)industriesSection.scrollIntoView({behavior:"smooth",block:"start"});}
      function handleInquiryIntent(){enableInquiryMode();scrollToInquiry();}

      if(inquiryToggle){inquiryToggle.addEventListener("click",function(){if(page.classList.contains("wm-inquiry-mode"))disableInquiryMode();else{handleInquiryIntent();}});}
      contactButtons.forEach(btn=>{btn.addEventListener("click",function(e){e.preventDefault();handleInquiryIntent();});});

      function checkHashIntent(){if(location.hash&&location.hash.toLowerCase().includes("inquiry")){handleInquiryIntent();}}
      checkHashIntent();
      window.addEventListener("hashchange",checkHashIntent);

      const casesGrid=root.querySelector(".js-cases-grid");
      if(casesGrid){
        const cards=[...casesGrid.querySelectorAll(".wm-case")];
        const prev=root.querySelector(".js-case-prev");
        const next=root.querySelector(".js-case-next");
        let start=0,visible=3;
        function update(){cards.forEach((c,i)=>c.style.display=(i>=start&&i<start+visible)?"block":"none");if(prev)prev.disabled=start===0;if(next)next.disabled=start+visible>=cards.length;}
        if(cards.length)update();
        if(prev)prev.addEventListener("click",()=>{if(start>0){start--;update();}});
        if(next)next.addEventListener("click",()=>{if(start+visible<cards.length){start++;update();}});
      }

      function openModal(key,title){const overlay=root.querySelector('.wm-modal-overlay[data-modal="'+key+'"]');if(!overlay)return;const t=overlay.querySelector(".wm-modal-title");if(t&&title)t.textContent=title;overlay.classList.add("is-open");page.classList.add("wm-modal-open");}
      function closeModal(overlay){overlay.classList.remove("is-open");if(!root.querySelector(".wm-modal-overlay.is-open"))page.classList.remove("wm-modal-open");}

      root.querySelectorAll(".js-open-modal").forEach(btn=>{
        btn.addEventListener("click",e=>{e.stopPropagation();openModal(btn.dataset.modal,btn.dataset.title||"");});
      });
      root.querySelectorAll(".wm-modal-overlay").forEach(overlay=>{
        const closeBtn=overlay.querySelector(".js-close-modal");
        if(closeBtn)closeBtn.addEventListener("click",()=>closeModal(overlay));
        overlay.addEventListener("click",e=>{if(e.target===overlay)closeModal(overlay);});
      });

      root.querySelectorAll(".wm-tag-item").forEach(item=>{
        const plus=item.querySelector(".wm-plus");
        const label=item.querySelector(".wm-tag-label");
        if(plus){
          plus.addEventListener("click",e=>{e.stopPropagation();openModal(plus.dataset.modal,plus.dataset.title||"");});
        }
        if(label){
          label.addEventListener("click",e=>{e.stopPropagation();if(plus)openModal(plus.dataset.modal,plus.dataset.title||"");});
        }
        const checkbox=item.querySelector(".wm-check input");
        if(checkbox){
          checkbox.addEventListener("click",e=>{e.stopPropagation();});
        }
      });

      function getChecked(selector){
        return [...root.querySelectorAll(selector)]
          .filter(input=>input.checked)
          .map(input=>{
            const item=input.closest(".wm-tag-item");
            const label=item?.querySelector(".wm-tag-label");
            return label?label.textContent.trim():input.name;
          });
      }

      function updateFileList(files){
        if(!fileList)return;
        if(!files.length){fileList.textContent="";return;}
        const names=[...files].map(f=>`${f.name} (${Math.round(f.size/1024)} KB)`);
        fileList.textContent=names.join(", ");
      }

      if(fileDrop && fileInput){
        fileDrop.addEventListener("click",()=>fileInput.click());
        fileDrop.addEventListener("dragover",e=>{e.preventDefault();fileDrop.classList.add("is-dragging");});
        fileDrop.addEventListener("dragleave",e=>{e.preventDefault();fileDrop.classList.remove("is-dragging");});
        fileDrop.addEventListener("drop",e=>{e.preventDefault();fileDrop.classList.remove("is-dragging");fileInput.files=e.dataTransfer.files;updateFileList(fileInput.files);});
        fileInput.addEventListener("change",()=>updateFileList(fileInput.files));
      }

      function beforeSubmit(){
        const industries=getChecked('input[name^="industry_"]');
        const capabilities=getChecked('input[name^="cap_"]');
        if(industriesHidden)industriesHidden.value=industries.join(", ");
        if(capabilitiesHidden)capabilitiesHidden.value=capabilities.join(", ");
        if(formStatus)formStatus.textContent="Sending...";
        if(submitButton)submitButton.disabled=true;
      }

      function handleSuccess(){
        if(formStatus)formStatus.textContent="Sent! Thank you.";
        if(submitButton)submitButton.disabled=false;
        if(form)form.reset();
        updateFileList([]);
      }

      function handleError(){
        if(formStatus)formStatus.textContent="Sorry, there was an issue. Please try again.";
        if(submitButton)submitButton.disabled=false;
      }

      if(form){
        form.addEventListener("submit",e=>{
          e.preventDefault();
          beforeSubmit();
          const fd=new FormData(form);
          fetch(form.action,{method:"POST",headers:{"Accept":"application/json"},body:fd})
            .then(res=>res.ok?res.json():res.json().catch(()=>{throw new Error("Submit failed");}).then(()=>{throw new Error("Submit failed");}))
            .then(()=>handleSuccess())
            .catch(err=>{console.error(err);handleError();});
        });
      }
    })();
  </script>
</body>
</html>
